<!Doctype html>
<head>
	<script> window.jQuery =  window.$ = require('jquery'); </script>
	<link rel="stylesheet" href="dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="dist/css/bootstrap-select.min.css">
	<script src="dist/js/bootstrap.min.js"></script>
	<script src="dist/js/bootstrap-select.min.js"></script>
</head>
<body>
<br/>
<form class="container center_div" style="width:75%; margin: auto";>
	<div clas="form-group">
		<h3 class="text-center" style="font-size: 24px;"> Ajouter Domaine </h3>
	</div>
		
	<div class="form-group">
		<input id="dom" type="text" placeholder="Nouveau domaine" class="form-control"/>
	</div>

	<div id="forms" class="form-group">
	</div>

	<div class="row form-group">
		<input type="button" style="border-radius: 12px !important;" onclick="addDomaine()" class="col text-center btn btn-primary" value="Enregistrer"/>
	</div>
</form>
<script src="/eel.js"></script>
<script>
	function setcolor(data){
		var select = '<option style="margin-top: 15px !important;" value="" disabled selected>Choisir une couleur</option>';
		for (let i=0; i<data.length;i++){
			select += `<option>${data[i]}</option>`;
		}
		$("#forms").append(
			`<select id="col" class="mdb-select md-form form-control dropdown-primary">
			  	${select}
			</select>`
		);
	}

	$(function(){
		eel.getAllcolor()(setcolor);
	});

	function addDomaine(){
		eel.addDomaine($('#dom').val(), $('#col').val())(success);
	}

	function success(data){
		if (data)
			alert("Domaine ajout√© avec succes.\nElle sera visible au prochain lancement.");
		else 
			alert("Une erreur s'est produite...")
	}
</script>

</body>
<html>